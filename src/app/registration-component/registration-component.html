<form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">

  <!-- Email -->
  <div>
    <label>Email:</label>
    <input type="email" formControlName="email">
    <div *ngIf="registrationForm.get('email')?.touched && registrationForm.get('email')?.invalid">
      <small *ngIf="registrationForm.get('email')?.errors?.['required']">Email is required.</small>
      <small *ngIf="registrationForm.get('email')?.errors?.['email']">Invalid email.</small>
    </div>
  </div>

  <!-- Username -->
  <div>
    <label>Username:</label>
    <input type="text" formControlName="username">
    <div *ngIf="registrationForm.get('username')?.touched && registrationForm.get('username')?.invalid">
      <small *ngIf="registrationForm.get('username')?.errors?.['required']">Username is required.</small>
      <small *ngIf="registrationForm.get('username')?.errors?.['minlength']">Username must be at least 3 characters.</small>
    </div>
  </div>

  <!-- Birthdate -->
  <div>
    <label>Birthdate:</label>
    <input type="date" formControlName="birthdate">
    <div *ngIf="registrationForm.get('birthdate')?.touched && registrationForm.get('birthdate')?.invalid">
      <small *ngIf="registrationForm.get('birthdate')?.errors?.['required']">Birthdate is required.</small>
      <small *ngIf="registrationForm.get('birthdate')?.errors?.['minAge']">You must be at least 14 years old.</small>
    </div>
  </div>

  <!-- Password -->
  <div>
    <label>Password:</label>
    <input type="password" formControlName="password">
    <div *ngIf="registrationForm.get('password')?.touched && registrationForm.get('password')?.invalid">
      <small *ngIf="registrationForm.get('password')?.errors?.['required']">Password is required.</small>
      <small *ngIf="registrationForm.get('password')?.errors?.['minlength']">Password must be at least 3 characters.</small>
      <small *ngIf="registrationForm.get('password')?.errors?.['passwordComplexity']">
        Password must contain at least one capital letter and one special symbol (!#$%&).
      </small>
    </div>
  </div>

  <!-- Confirm Password -->
  <div>
    <label>Confirm Password:</label>
    <input type="password" formControlName="confirmPassword">
    <div *ngIf="registrationForm.hasError('passwordMismatch') && registrationForm.get('confirmPassword')?.touched">
      <small>Passwords do not match.</small>
    </div>
  </div>

  <!-- Hobbies -->
  <div formArrayName="hobbies">
    <label>Hobbies:</label>
    <div class="hobbiesLine" *ngFor="let hobby of hobbies.controls; let i = index">
      <input [formControlName]="i" placeholder="Hobby {{ i + 1 }}">
      <button type="button" (click)="removeHobby(i)" [disabled]="hobbies.length === 1">Delete</button>
    </div>
    <button type="button" (click)="addHobby()">Add Hobby</button>
  </div>

  <button type="submit">Submit</button>
</form>
